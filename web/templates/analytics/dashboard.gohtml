{{define "analytics/dashboard.gohtml"}}
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}} - KolajAI</title>
    <link rel="stylesheet" href="/web/static/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/web/static/sass/main.css">
    <link rel="stylesheet" href="/web/static/sass/dark-theme.css">
</head>
<body>
    <div class="analytics-container">
        <!-- Analytics Header -->
        <header class="analytics-header">
            <div class="container">
                <div class="analytics-nav">
                    <div class="analytics-logo">
                        <h2>üìä ƒ∞leri D√ºzey Analitik</h2>
                    </div>
                    <nav class="analytics-menu">
                        <a href="/analytics/dashboard" class="active">Dashboard</a>
                        <a href="/analytics/revenue">Gelir Analizi</a>
                        <a href="/analytics/customers">M√º≈üteri Analizi</a>
                        <a href="/analytics/products">√úr√ºn Analizi</a>
                        <a href="/admin/dashboard">Admin Panel</a>
                    </nav>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="analytics-main">
            <div class="container">
                <div class="page-header">
                    <h1>{{.Title}}</h1>
                    <div class="page-actions">
                        <button class="btn btn-secondary" onclick="refreshAnalytics()">
                            <i class="icon-refresh"></i> Yenile
                        </button>
                        <button class="btn btn-primary" onclick="exportReport()">
                            <i class="icon-download"></i> Rapor ƒ∞ndir
                        </button>
                    </div>
                </div>

                <!-- Business Metrics -->
                <div class="stats-row">
                    <div class="stat-card stat-success">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-info">
                            <div class="stat-number">‚Ç∫{{.Metrics.revenue.total_revenue}}</div>
                            <div class="stat-label">Toplam Gelir</div>
                            <div class="stat-percentage">+{{.Metrics.revenue.revenue_growth}}%</div>
                        </div>
                    </div>
                    <div class="stat-card stat-primary">
                        <div class="stat-icon">üõí</div>
                        <div class="stat-info">
                            <div class="stat-number">{{.Metrics.sales.total_orders}}</div>
                            <div class="stat-label">Toplam Sipari≈ü</div>
                            <div class="stat-percentage">+{{.Metrics.sales.sales_growth}}%</div>
                        </div>
                    </div>
                    <div class="stat-card stat-info">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-info">
                            <div class="stat-number">{{.Metrics.customers.total_customers}}</div>
                            <div class="stat-label">Toplam M√º≈üteri</div>
                            <div class="stat-percentage">{{.Metrics.customers.retention_rate}}% tutma</div>
                        </div>
                    </div>
                    <div class="stat-card stat-warning">
                        <div class="stat-icon">üì¶</div>
                        <div class="stat-info">
                            <div class="stat-number">{{.Metrics.products.total_products}}</div>
                            <div class="stat-label">Toplam √úr√ºn</div>
                            <div class="stat-text">{{.Metrics.products.best_selling}}</div>
                        </div>
                    </div>
                </div>

                <!-- Dashboard Content Grid -->
                <div class="dashboard-grid">
                    <!-- Revenue Trend Chart -->
                    <div class="dashboard-card chart-card">
                        <div class="card-header">
                            <h3>üìà Gelir Trendi</h3>
                            <div class="chart-controls">
                                <select onchange="updateRevenueTrend(this.value)">
                                    <option value="month">Aylƒ±k</option>
                                    <option value="week">Haftalƒ±k</option>
                                    <option value="day">G√ºnl√ºk</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="chart-container">
                                <canvas id="revenueTrendChart" width="400" height="200"></canvas>
                            </div>
                            <div class="revenue-summary">
                                {{range .RevenueTrend}}
                                <div class="revenue-item">
                                    <span class="revenue-month">{{.month}}</span>
                                    <span class="revenue-amount">‚Ç∫{{.revenue}}</span>
                                    <span class="revenue-orders">{{.orders}} sipari≈ü</span>
                                </div>
                                {{end}}
                            </div>
                        </div>
                    </div>

                    <!-- Top Products -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>üèÜ En ƒ∞yi √úr√ºnler</h3>
                            <a href="/analytics/products" class="view-all">T√ºm√ºn√º G√∂r</a>
                        </div>
                        <div class="card-content">
                            {{range .TopProducts}}
                            <div class="product-item">
                                <div class="product-rank">{{add @index 1}}</div>
                                <div class="product-info">
                                    <div class="product-name">{{.name}}</div>
                                    <div class="product-stats">
                                        <span class="product-sales">{{.sales}} satƒ±≈ü</span>
                                        <span class="product-revenue">‚Ç∫{{.revenue}}</span>
                                    </div>
                                </div>
                                <div class="product-trend">üìà</div>
                            </div>
                            {{end}}
                        </div>
                    </div>

                    <!-- Customer Segments -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>üéØ M√º≈üteri Segmentleri</h3>
                            <a href="/analytics/customers" class="view-all">Detay</a>
                        </div>
                        <div class="card-content">
                            {{range .CustomerSegments}}
                            <div class="segment-item">
                                <div class="segment-info">
                                    <div class="segment-name">{{.segment}}</div>
                                    <div class="segment-stats">
                                        <span class="segment-count">{{.count}} m√º≈üteri</span>
                                        <span class="segment-revenue">‚Ç∫{{.revenue}}</span>
                                    </div>
                                </div>
                                <div class="segment-percentage">
                                    <div class="progress-bar" style="width: {{.percentage}}%"></div>
                                    <span class="percentage-text">{{.percentage}}%</span>
                                </div>
                            </div>
                            {{end}}
                        </div>
                    </div>

                    <!-- Business Intelligence -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>üß† ƒ∞≈ü Zekasƒ± √ñnerileri</h3>
                        </div>
                        <div class="card-content">
                            <div class="bi-recommendations">
                                <div class="recommendation-item priority-high">
                                    <div class="recommendation-icon">üöÄ</div>
                                    <div class="recommendation-text">
                                        <strong>Pazarlama Fƒ±rsatƒ±:</strong> Premium m√º≈üteri segmentiniz %15 b√ºy√ºd√º. √ñzel kampanya d√º≈ü√ºn√ºn.
                                    </div>
                                </div>
                                <div class="recommendation-item priority-medium">
                                    <div class="recommendation-icon">üìä</div>
                                    <div class="recommendation-text">
                                        <strong>Stok Optimizasyonu:</strong> En √ßok satan √ºr√ºnlerinizin stok seviyelerini artƒ±rƒ±n.
                                    </div>
                                </div>
                                <div class="recommendation-item priority-low">
                                    <div class="recommendation-icon">üí°</div>
                                    <div class="recommendation-text">
                                        <strong>M√º≈üteri Deneyimi:</strong> D√º≈ü√ºk performanslƒ± √ºr√ºnleri g√∂zden ge√ßirin.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Predictive Analytics -->
                    <div class="dashboard-card chart-card">
                        <div class="card-header">
                            <h3>üîÆ Tahminsel Analitik</h3>
                            <div class="chart-controls">
                                <select onchange="updateForecast(this.value)">
                                    <option value="revenue">Gelir Tahmini</option>
                                    <option value="customers">M√º≈üteri Tahmini</option>
                                    <option value="sales">Satƒ±≈ü Tahmini</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="forecast-summary">
                                <div class="forecast-item">
                                    <div class="forecast-label">Gelecek Ay Tahmini</div>
                                    <div class="forecast-value">‚Ç∫135,000</div>
                                    <div class="forecast-confidence">%85 g√ºven</div>
                                </div>
                                <div class="forecast-item">
                                    <div class="forecast-label">B√ºy√ºme Oranƒ±</div>
                                    <div class="forecast-value">+8.2%</div>
                                    <div class="forecast-confidence">Pozitif trend</div>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="forecastChart" width="400" height="150"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>‚ö° Hƒ±zlƒ± ƒ∞≈ülemler</h3>
                        </div>
                        <div class="card-content">
                            <div class="quick-actions">
                                <button class="action-btn" onclick="generateCustomReport()">
                                    <div class="action-icon">üìã</div>
                                    <div class="action-text">√ñzel Rapor</div>
                                </button>
                                <button class="action-btn" onclick="scheduleReport()">
                                    <div class="action-icon">üìÖ</div>
                                    <div class="action-text">Rapor Zamanla</div>
                                </button>
                                <button class="action-btn" onclick="exportData()">
                                    <div class="action-icon">üíæ</div>
                                    <div class="action-text">Veri ƒ∞ndir</div>
                                </button>
                                <button class="action-btn" onclick="shareInsights()">
                                    <div class="action-icon">üì§</div>
                                    <div class="action-text">√ñng√∂r√º Payla≈ü</div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="/web/static/assets/js/jquery.min.js"></script>
    <script src="/web/static/assets/js/bootstrap.bundle.min.js"></script>
    <script>
        function refreshAnalytics() {
            location.reload();
        }

        function exportReport() {
            alert('Rapor indirme √∂zelliƒüi yakƒ±nda eklenecek.');
        }

        function updateRevenueTrend(period) {
            console.log('Updating revenue trend for period:', period);
            // Chart update logic would go here
        }

        function updateForecast(type) {
            console.log('Updating forecast for type:', type);
            // Forecast update logic would go here
        }

        function generateCustomReport() {
            alert('√ñzel rapor olu≈üturma √∂zelliƒüi yakƒ±nda eklenecek.');
        }

        function scheduleReport() {
            alert('Rapor zamanlama √∂zelliƒüi yakƒ±nda eklenecek.');
        }

        function exportData() {
            alert('Veri indirme √∂zelliƒüi yakƒ±nda eklenecek.');
        }

        function shareInsights() {
            alert('√ñng√∂r√º payla≈üma √∂zelliƒüi yakƒ±nda eklenecek.');
        }

        // Initialize charts when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Analytics charts would be initialized here');
        });
    </script>
</body>
</html>
{{end}}