{"version":3,"file":"js/main.2fb703ad.js","mappings":"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","sources":["webpack://kolajAI-frontend/./web/static/js/main.js"],"sourcesContent":["// Main application entry point\n// Import styles\nimport '../sass/main.scss';\n\nimport Alpine from 'alpinejs';\nimport axios from 'axios';\nimport { format, formatDistanceToNow } from 'date-fns';\nimport { tr } from 'date-fns/locale';\n\n// Basic utilities (will create these if needed)\n// import { debounce, throttle } from './utils/performance';\n// import { showToast, showModal, showConfirm } from './utils/ui';\n// import { formatCurrency, formatNumber } from './utils/formatters';\n// import { validateEmail, validatePhone } from './utils/validators';\n\nclass KolajAIApp {\n  constructor() {\n    // Services will be initialized when available\n    // this.apiService = new ApiService();\n    // this.authService = new AuthService();\n    // this.cartService = new CartService();\n    // this.notificationService = new NotificationService();\n    \n    this.init();\n  }\n\n  async init() {\n    try {\n      // Initialize Alpine.js\n      this.initAlpine();\n      \n      // Setup global axios configuration\n      this.setupAxios();\n      \n      // Initialize services\n      await this.initServices();\n      \n      // Setup event listeners\n      this.setupEventListeners();\n      \n      // Initialize PWA features\n      this.initPWA();\n      \n      // Setup performance monitoring\n      this.setupPerformanceMonitoring();\n      \n      console.log('KolajAI App initialized successfully');\n      \n    } catch (error) {\n      console.error('Failed to initialize KolajAI App:', error);\n      this.handleInitError(error);\n    }\n  }\n\n  initAlpine() {\n    // Global Alpine data\n    Alpine.data('app', () => ({\n      // Global state\n      user: null,\n      cart: {\n        items: [],\n        total: 0,\n        count: 0\n      },\n      notifications: [],\n      isLoading: false,\n      \n      // UI state\n      mobileMenuOpen: false,\n      searchOpen: false,\n      cartOpen: false,\n      notificationsOpen: false,\n      \n      // Search\n      searchQuery: '',\n      searchResults: [],\n      searchLoading: false,\n      \n      // Filters\n      filters: {\n        category: '',\n        priceRange: [0, 1000],\n        rating: 0,\n        availability: 'all'\n      },\n      \n      // Methods\n      async init() {\n        await this.loadUser();\n        await this.loadCart();\n        await this.loadNotifications();\n      },\n      \n      async loadUser() {\n        try {\n          const response = await window.app.authService.getCurrentUser();\n          this.user = response.data;\n        } catch (error) {\n          console.log('User not authenticated');\n        }\n      },\n      \n      async loadCart() {\n        try {\n          this.cart = await window.app.cartService.getCart();\n        } catch (error) {\n          console.error('Failed to load cart:', error);\n        }\n      },\n      \n      async loadNotifications() {\n        if (!this.user) return;\n        \n        try {\n          const response = await window.app.notificationService.getNotifications();\n          this.notifications = response.data;\n        } catch (error) {\n          console.error('Failed to load notifications:', error);\n        }\n      },\n      \n      // Search functionality\n      async search() {\n        if (!this.searchQuery.trim()) {\n          this.searchResults = [];\n          return;\n        }\n        \n        this.searchLoading = true;\n        \n        try {\n          const response = await window.app.apiService.get('/api/search', {\n            params: { q: this.searchQuery, ...this.filters }\n          });\n          this.searchResults = response.data.results;\n        } catch (error) {\n          console.error('Search failed:', error);\n          showToast('Arama sırasında bir hata oluştu', 'error');\n        } finally {\n          this.searchLoading = false;\n        }\n      },\n      \n      // Cart functionality\n      async addToCart(productId, quantity = 1) {\n        try {\n          await window.app.cartService.addItem(productId, quantity);\n          await this.loadCart();\n          showToast('Ürün sepete eklendi', 'success');\n        } catch (error) {\n          console.error('Failed to add to cart:', error);\n          showToast('Ürün sepete eklenemedi', 'error');\n        }\n      },\n      \n      async removeFromCart(itemId) {\n        try {\n          await window.app.cartService.removeItem(itemId);\n          await this.loadCart();\n          showToast('Ürün sepetten kaldırıldı', 'info');\n        } catch (error) {\n          console.error('Failed to remove from cart:', error);\n          showToast('Ürün sepetten kaldırılamadı', 'error');\n        }\n      },\n      \n      // Utility methods\n      formatCurrency,\n      formatNumber,\n      formatDate: (date) => format(new Date(date), 'dd MMMM yyyy', { locale: tr }),\n      formatTimeAgo: (date) => formatDistanceToNow(new Date(date), { \n        addSuffix: true, \n        locale: tr \n      }),\n      \n      // Navigation\n      toggleMobileMenu() {\n        this.mobileMenuOpen = !this.mobileMenuOpen;\n      },\n      \n      toggleSearch() {\n        this.searchOpen = !this.searchOpen;\n        if (this.searchOpen) {\n          this.$nextTick(() => {\n            this.$refs.searchInput?.focus();\n          });\n        }\n      },\n      \n      toggleCart() {\n        this.cartOpen = !this.cartOpen;\n      },\n      \n      toggleNotifications() {\n        this.notificationsOpen = !this.notificationsOpen;\n      }\n    }));\n\n    // Global Alpine stores\n    Alpine.store('theme', {\n      current: localStorage.getItem('theme') || 'light',\n      toggle() {\n        this.current = this.current === 'light' ? 'dark' : 'light';\n        localStorage.setItem('theme', this.current);\n        document.documentElement.classList.toggle('dark', this.current === 'dark');\n      }\n    });\n\n    Alpine.store('preferences', {\n      language: localStorage.getItem('language') || 'tr',\n      currency: localStorage.getItem('currency') || 'TRY',\n      notifications: JSON.parse(localStorage.getItem('notifications') || 'true'),\n      \n      setLanguage(lang) {\n        this.language = lang;\n        localStorage.setItem('language', lang);\n        // Reload page to apply language changes\n        window.location.reload();\n      },\n      \n      setCurrency(currency) {\n        this.currency = currency;\n        localStorage.setItem('currency', currency);\n      },\n      \n      toggleNotifications() {\n        this.notifications = !this.notifications;\n        localStorage.setItem('notifications', JSON.stringify(this.notifications));\n      }\n    });\n\n    // Start Alpine\n    Alpine.start();\n    \n    // Make Alpine globally available\n    window.Alpine = Alpine;\n  }\n\n  setupAxios() {\n    // Set default base URL\n    axios.defaults.baseURL = window.location.origin;\n    \n    // Add CSRF token to all requests\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n    if (csrfToken) {\n      axios.defaults.headers.common['X-CSRF-Token'] = csrfToken;\n    }\n    \n    // Add auth token if available\n    const token = localStorage.getItem('auth_token');\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n    \n    // Request interceptor\n    axios.interceptors.request.use(\n      (config) => {\n        // Show loading indicator for non-background requests\n        if (!config.background) {\n          document.body.classList.add('loading');\n        }\n        return config;\n      },\n      (error) => {\n        document.body.classList.remove('loading');\n        return Promise.reject(error);\n      }\n    );\n    \n    // Response interceptor\n    axios.interceptors.response.use(\n      (response) => {\n        document.body.classList.remove('loading');\n        return response;\n      },\n      (error) => {\n        document.body.classList.remove('loading');\n        \n        // Handle common errors\n        if (error.response?.status === 401) {\n          this.authService.logout();\n          showToast('Oturum süreniz doldu, lütfen tekrar giriş yapın', 'warning');\n        } else if (error.response?.status === 403) {\n          showToast('Bu işlem için yetkiniz bulunmuyor', 'error');\n        } else if (error.response?.status >= 500) {\n          showToast('Sunucu hatası oluştu, lütfen daha sonra tekrar deneyin', 'error');\n        }\n        \n        return Promise.reject(error);\n      }\n    );\n  }\n\n  async initServices() {\n    // Initialize all services\n    await Promise.all([\n      this.authService.init(),\n      this.cartService.init(),\n      this.notificationService.init()\n    ]);\n  }\n\n  setupEventListeners() {\n    // Handle online/offline status\n    window.addEventListener('online', () => {\n      showToast('İnternet bağlantısı yeniden kuruldu', 'success');\n      this.syncOfflineData();\n    });\n    \n    window.addEventListener('offline', () => {\n      showToast('İnternet bağlantısı kesildi', 'warning');\n    });\n    \n    // Handle visibility change\n    document.addEventListener('visibilitychange', () => {\n      if (!document.hidden) {\n        // Refresh data when page becomes visible\n        this.refreshData();\n      }\n    });\n    \n    // Handle beforeunload\n    window.addEventListener('beforeunload', (e) => {\n      // Save any pending data\n      this.savePendingData();\n    });\n    \n    // Keyboard shortcuts\n    document.addEventListener('keydown', (e) => {\n      // Ctrl/Cmd + K for search\n      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\n        e.preventDefault();\n        Alpine.store('app').toggleSearch();\n      }\n      \n      // Escape to close modals\n      if (e.key === 'Escape') {\n        // Close any open modals\n        document.querySelectorAll('[x-show]').forEach(el => {\n          if (el._x_dataStack?.[0]?.open) {\n            el._x_dataStack[0].open = false;\n          }\n        });\n      }\n    });\n  }\n\n  initPWA() {\n    // Register service worker\n    if ('serviceWorker' in navigator) {\n      window.addEventListener('load', async () => {\n        try {\n          const registration = await navigator.serviceWorker.register('/sw.js');\n          console.log('SW registered: ', registration);\n          \n          // Handle updates\n          registration.addEventListener('updatefound', () => {\n            const newWorker = registration.installing;\n            newWorker.addEventListener('statechange', () => {\n              if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n                // Show update available notification\n                this.showUpdateAvailable();\n              }\n            });\n          });\n        } catch (error) {\n          console.log('SW registration failed: ', error);\n        }\n      });\n    }\n    \n    // Handle app installation\n    let deferredPrompt;\n    window.addEventListener('beforeinstallprompt', (e) => {\n      e.preventDefault();\n      deferredPrompt = e;\n      this.showInstallPrompt(deferredPrompt);\n    });\n    \n    // Handle app installed\n    window.addEventListener('appinstalled', () => {\n      showToast('Uygulama başarıyla yüklendi!', 'success');\n      deferredPrompt = null;\n    });\n  }\n\n  setupPerformanceMonitoring() {\n    // Monitor Core Web Vitals\n    if ('web-vital' in window) {\n      import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n        getCLS(console.log);\n        getFID(console.log);\n        getFCP(console.log);\n        getLCP(console.log);\n        getTTFB(console.log);\n      });\n    }\n    \n    // Monitor long tasks\n    if ('PerformanceObserver' in window) {\n      try {\n        const observer = new PerformanceObserver((list) => {\n          for (const entry of list.getEntries()) {\n            if (entry.duration > 50) {\n              console.warn('Long task detected:', entry);\n            }\n          }\n        });\n        observer.observe({ entryTypes: ['longtask'] });\n      } catch (e) {\n        // PerformanceObserver not supported\n      }\n    }\n  }\n\n  handleInitError(error) {\n    // Show user-friendly error message\n    const errorDiv = document.createElement('div');\n    errorDiv.className = 'fixed inset-0 bg-red-50 flex items-center justify-center z-50';\n    errorDiv.innerHTML = `\n      <div class=\"text-center p-8\">\n        <div class=\"text-red-600 text-6xl mb-4\">⚠️</div>\n        <h1 class=\"text-2xl font-bold text-red-800 mb-2\">Uygulama Başlatılamadı</h1>\n        <p class=\"text-red-600 mb-4\">Bir hata oluştu. Lütfen sayfayı yenileyin.</p>\n        <button onclick=\"window.location.reload()\" \n                class=\"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700\">\n          Sayfayı Yenile\n        </button>\n      </div>\n    `;\n    document.body.appendChild(errorDiv);\n  }\n\n  async syncOfflineData() {\n    // Sync any offline data when connection is restored\n    try {\n      await this.cartService.syncOfflineData();\n      await this.notificationService.syncOfflineData();\n    } catch (error) {\n      console.error('Failed to sync offline data:', error);\n    }\n  }\n\n  async refreshData() {\n    // Refresh data when page becomes visible\n    try {\n      const app = Alpine.store('app');\n      if (app) {\n        await Promise.all([\n          app.loadCart(),\n          app.loadNotifications()\n        ]);\n      }\n    } catch (error) {\n      console.error('Failed to refresh data:', error);\n    }\n  }\n\n  savePendingData() {\n    // Save any pending data before page unload\n    try {\n      this.cartService.savePendingData();\n    } catch (error) {\n      console.error('Failed to save pending data:', error);\n    }\n  }\n\n  showUpdateAvailable() {\n    const updateBanner = document.createElement('div');\n    updateBanner.className = 'fixed top-0 left-0 right-0 bg-blue-600 text-white p-4 z-50';\n    updateBanner.innerHTML = `\n      <div class=\"flex items-center justify-between max-w-7xl mx-auto\">\n        <span>Yeni bir sürüm mevcut!</span>\n        <button onclick=\"window.location.reload()\" \n                class=\"bg-blue-700 px-4 py-2 rounded hover:bg-blue-800\">\n          Güncelle\n        </button>\n      </div>\n    `;\n    document.body.appendChild(updateBanner);\n  }\n\n  showInstallPrompt(deferredPrompt) {\n    // Show install prompt after some user interaction\n    setTimeout(() => {\n      const installBanner = document.createElement('div');\n      installBanner.className = 'fixed bottom-4 right-4 bg-white shadow-lg rounded-lg p-4 max-w-sm z-50';\n      installBanner.innerHTML = `\n        <div class=\"flex items-center space-x-3\">\n          <div class=\"flex-1\">\n            <h3 class=\"font-semibold\">Uygulamayı Yükle</h3>\n            <p class=\"text-sm text-gray-600\">Daha iyi deneyim için uygulamayı yükleyin</p>\n          </div>\n          <div class=\"flex space-x-2\">\n            <button onclick=\"this.parentElement.parentElement.parentElement.remove()\" \n                    class=\"text-gray-400 hover:text-gray-600\">×</button>\n            <button onclick=\"window.app.installApp()\" \n                    class=\"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700\">\n              Yükle\n            </button>\n          </div>\n        </div>\n      `;\n      document.body.appendChild(installBanner);\n    }, 5000);\n  }\n\n  async installApp() {\n    if (this.deferredPrompt) {\n      this.deferredPrompt.prompt();\n      const { outcome } = await this.deferredPrompt.userChoice;\n      console.log(`User response to the install prompt: ${outcome}`);\n      this.deferredPrompt = null;\n    }\n  }\n}\n\n// Initialize app when DOM is loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n  window.app = new KolajAIApp();\n});\n\n// Export for use in other modules\nexport default KolajAIApp;"],"names":["KolajAIApp","constructor","this","init","initAlpine","setupAxios","initServices","setupEventListeners","initPWA","setupPerformanceMonitoring","error","handleInitError","Alpine","data","user","cart","items","total","count","notifications","isLoading","mobileMenuOpen","searchOpen","cartOpen","notificationsOpen","searchQuery","searchResults","searchLoading","filters","category","priceRange","rating","availability","loadUser","loadCart","loadNotifications","response","window","app","authService","getCurrentUser","cartService","getCart","notificationService","getNotifications","search","trim","apiService","get","params","q","results","showToast","addToCart","productId","quantity","addItem","removeFromCart","itemId","removeItem","formatCurrency","formatNumber","formatDate","date","format","Date","locale","tr","formatTimeAgo","formatDistanceToNow","addSuffix","toggleMobileMenu","toggleSearch","$nextTick","_this$$refs$searchInp","$refs","searchInput","focus","toggleCart","toggleNotifications","store","current","localStorage","getItem","toggle","setItem","document","documentElement","classList","language","currency","JSON","parse","setLanguage","lang","location","reload","setCurrency","stringify","start","_document$querySelect","axios","defaults","baseURL","origin","csrfToken","querySelector","getAttribute","headers","common","token","interceptors","request","use","config","background","body","add","remove","Promise","reject","_error$response","_error$response2","_error$response3","status","logout","all","addEventListener","syncOfflineData","hidden","refreshData","e","savePendingData","ctrlKey","metaKey","key","preventDefault","querySelectorAll","forEach","el","_el$_x_dataStack","_x_dataStack","open","deferredPrompt","navigator","async","registration","serviceWorker","register","newWorker","installing","state","controller","showUpdateAvailable","showInstallPrompt","then","getCLS","getFID","getFCP","getLCP","getTTFB","console","log","PerformanceObserver","list","entry","getEntries","duration","observe","entryTypes","errorDiv","createElement","className","innerHTML","appendChild","updateBanner","setTimeout","installBanner","installApp","prompt","outcome","userChoice"],"sourceRoot":""}