/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkkolajAI_frontend"] = self["webpackChunkkolajAI_frontend"] || []).push([[738],{

/***/ 468:
/***/ (function(module) {

eval("{/**\n * Utility Functions for KolajAI\n * Bu dosya uygulama genelinde kullanılan yardımcı fonksiyonları içerir\n */\n\n// Toast notification system\nfunction showToast(message, type = 'info', duration = 5000) {\n  // Toast container'ı kontrol et veya oluştur\n  let toastContainer = document.querySelector('.toast-container');\n  if (!toastContainer) {\n    toastContainer = document.createElement('div');\n    toastContainer.className = 'toast-container position-fixed top-0 end-0 p-3';\n    toastContainer.style.zIndex = '9999';\n    document.body.appendChild(toastContainer);\n  }\n\n  // Toast element oluştur\n  const toastId = 'toast-' + Date.now();\n  const toast = document.createElement('div');\n  toast.id = toastId;\n  toast.className = `toast align-items-center text-white bg-${getToastColor(type)} border-0`;\n  toast.setAttribute('role', 'alert');\n  toast.setAttribute('aria-live', 'assertive');\n  toast.setAttribute('aria-atomic', 'true');\n\n  // Create safe DOM structure to prevent XSS\n  const toastContent = document.createElement('div');\n  toastContent.className = 'd-flex';\n  const toastBody = document.createElement('div');\n  toastBody.className = 'toast-body';\n\n  // Safely add icon (this comes from our function, not user input)\n  const iconSpan = document.createElement('span');\n  iconSpan.innerHTML = getToastIcon(type);\n  toastBody.appendChild(iconSpan);\n\n  // Safely add message (prevent XSS by using textContent)\n  const messageSpan = document.createElement('span');\n  messageSpan.textContent = ' ' + message;\n  toastBody.appendChild(messageSpan);\n  const closeButton = document.createElement('button');\n  closeButton.type = 'button';\n  closeButton.className = 'btn-close btn-close-white me-2 m-auto';\n  closeButton.setAttribute('data-bs-dismiss', 'toast');\n  closeButton.setAttribute('aria-label', 'Close');\n  toastContent.appendChild(toastBody);\n  toastContent.appendChild(closeButton);\n  toast.appendChild(toastContent);\n  toastContainer.appendChild(toast);\n\n  // Bootstrap toast initialize et\n  const bsToast = new bootstrap.Toast(toast, {\n    autohide: true,\n    delay: duration\n  });\n\n  // Toast'u göster\n  bsToast.show();\n\n  // Toast kapandığında DOM'dan kaldır\n  toast.addEventListener('hidden.bs.toast', () => {\n    toast.remove();\n  });\n  return toast;\n}\n\n// Toast renk yardımcı fonksiyonu\nfunction getToastColor(type) {\n  const colors = {\n    'success': 'success',\n    'error': 'danger',\n    'warning': 'warning',\n    'info': 'info',\n    'primary': 'primary'\n  };\n  return colors[type] || 'info';\n}\n\n// Toast icon yardımcı fonksiyonu\nfunction getToastIcon(type) {\n  const icons = {\n    'success': '<i class=\"bi bi-check-circle-fill me-2\"></i>',\n    'error': '<i class=\"bi bi-exclamation-triangle-fill me-2\"></i>',\n    'warning': '<i class=\"bi bi-exclamation-triangle me-2\"></i>',\n    'info': '<i class=\"bi bi-info-circle-fill me-2\"></i>',\n    'primary': '<i class=\"bi bi-info-circle me-2\"></i>'\n  };\n  return icons[type] || icons['info'];\n}\n\n// Currency formatting\nfunction formatCurrency(amount, currency = 'TRY', locale = 'tr-TR') {\n  if (amount === null || amount === undefined || isNaN(amount)) {\n    return '0,00 ₺';\n  }\n  try {\n    const formatter = new Intl.NumberFormat(locale, {\n      style: 'currency',\n      currency: currency,\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    });\n    return formatter.format(amount);\n  } catch (error) {\n    // Fallback formatting\n    const formatted = parseFloat(amount).toFixed(2).replace('.', ',');\n    return `${formatted} ₺`;\n  }\n}\n\n// Number formatting\nfunction formatNumber(number, locale = 'tr-TR') {\n  if (number === null || number === undefined || isNaN(number)) {\n    return '0';\n  }\n  try {\n    return new Intl.NumberFormat(locale).format(number);\n  } catch (error) {\n    return number.toString();\n  }\n}\n\n// Percentage formatting\nfunction formatPercentage(value, decimals = 1) {\n  if (value === null || value === undefined || isNaN(value)) {\n    return '0%';\n  }\n  return `${parseFloat(value).toFixed(decimals)}%`;\n}\n\n// Date formatting utilities\nfunction formatDate(date, format = 'short', locale = 'tr-TR') {\n  if (!date) return '';\n  const d = new Date(date);\n  if (isNaN(d.getTime())) return '';\n  const options = {\n    'short': {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    },\n    'long': {\n      day: 'numeric',\n      month: 'long',\n      year: 'numeric'\n    },\n    'datetime': {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    }\n  };\n  try {\n    return d.toLocaleDateString(locale, options[format] || options.short);\n  } catch (error) {\n    return d.toLocaleDateString();\n  }\n}\n\n// Time ago formatting\nfunction formatTimeAgo(date, locale = 'tr') {\n  if (!date) return '';\n  const now = new Date();\n  const past = new Date(date);\n  const diffMs = now - past;\n  const diffSecs = Math.floor(diffMs / 1000);\n  const diffMins = Math.floor(diffSecs / 60);\n  const diffHours = Math.floor(diffMins / 60);\n  const diffDays = Math.floor(diffHours / 24);\n  const translations = {\n    'tr': {\n      'now': 'şimdi',\n      'seconds': 'saniye önce',\n      'minutes': 'dakika önce',\n      'hours': 'saat önce',\n      'days': 'gün önce',\n      'weeks': 'hafta önce',\n      'months': 'ay önce',\n      'years': 'yıl önce'\n    },\n    'en': {\n      'now': 'now',\n      'seconds': 'seconds ago',\n      'minutes': 'minutes ago',\n      'hours': 'hours ago',\n      'days': 'days ago',\n      'weeks': 'weeks ago',\n      'months': 'months ago',\n      'years': 'years ago'\n    }\n  };\n  const t = translations[locale] || translations['tr'];\n  if (diffSecs < 60) return t.now;\n  if (diffMins < 60) return `${diffMins} ${t.minutes}`;\n  if (diffHours < 24) return `${diffHours} ${t.hours}`;\n  if (diffDays < 7) return `${diffDays} ${t.days}`;\n  if (diffDays < 30) return `${Math.floor(diffDays / 7)} ${t.weeks}`;\n  if (diffDays < 365) return `${Math.floor(diffDays / 30)} ${t.months}`;\n  return `${Math.floor(diffDays / 365)} ${t.years}`;\n}\n\n// Modal utilities\nfunction showModal(title, content, options = {}) {\n  const modalId = 'dynamic-modal-' + Date.now();\n  const modal = document.createElement('div');\n  modal.className = 'modal fade';\n  modal.id = modalId;\n  modal.setAttribute('tabindex', '-1');\n  modal.setAttribute('aria-hidden', 'true');\n  const size = options.size || '';\n  const sizeClass = size ? `modal-${size}` : '';\n\n  // Create safe modal structure to prevent XSS\n  const modalDialog = document.createElement('div');\n  modalDialog.className = `modal-dialog ${sizeClass}`;\n  const modalContent = document.createElement('div');\n  modalContent.className = 'modal-content';\n\n  // Modal header\n  const modalHeader = document.createElement('div');\n  modalHeader.className = 'modal-header';\n  const modalTitle = document.createElement('h5');\n  modalTitle.className = 'modal-title';\n  modalTitle.textContent = title; // Safe text content\n\n  const closeButton = document.createElement('button');\n  closeButton.type = 'button';\n  closeButton.className = 'btn-close';\n  closeButton.setAttribute('data-bs-dismiss', 'modal');\n  closeButton.setAttribute('aria-label', 'Close');\n  modalHeader.appendChild(modalTitle);\n  modalHeader.appendChild(closeButton);\n\n  // Modal body\n  const modalBody = document.createElement('div');\n  modalBody.className = 'modal-body';\n\n  // If content is a string, use textContent for safety\n  if (typeof content === 'string') {\n    modalBody.textContent = content;\n  } else {\n    // If content is a DOM element, append it safely\n    modalBody.appendChild(content);\n  }\n  modalContent.appendChild(modalHeader);\n  modalContent.appendChild(modalBody);\n\n  // Modal footer if provided\n  if (options.footer) {\n    const modalFooter = document.createElement('div');\n    modalFooter.className = 'modal-footer';\n    if (typeof options.footer === 'string') {\n      modalFooter.textContent = options.footer;\n    } else {\n      modalFooter.appendChild(options.footer);\n    }\n    modalContent.appendChild(modalFooter);\n  }\n  modalDialog.appendChild(modalContent);\n  modal.appendChild(modalDialog);\n  document.body.appendChild(modal);\n  const bsModal = new bootstrap.Modal(modal);\n  bsModal.show();\n\n  // Modal kapandığında DOM'dan kaldır\n  modal.addEventListener('hidden.bs.modal', () => {\n    modal.remove();\n  });\n  return bsModal;\n}\n\n// Confirmation dialog\nfunction showConfirm(message, title = 'Onay', options = {}) {\n  return new Promise(resolve => {\n    const confirmText = options.confirmText || 'Evet';\n    const cancelText = options.cancelText || 'Hayır';\n    const type = options.type || 'warning';\n    const footer = `\n      <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">${cancelText}</button>\n      <button type=\"button\" class=\"btn btn-${type === 'danger' ? 'danger' : 'primary'}\" id=\"confirm-btn\">${confirmText}</button>\n    `;\n    const modal = showModal(title, message, {\n      footer\n    });\n    const confirmBtn = document.getElementById('confirm-btn');\n    confirmBtn.addEventListener('click', () => {\n      modal.hide();\n      resolve(true);\n    });\n\n    // Modal kapandığında false döndür\n    document.getElementById(modal._element.id).addEventListener('hidden.bs.modal', () => {\n      resolve(false);\n    });\n  });\n}\n\n// String utilities\nfunction truncateText(text, maxLength = 100, suffix = '...') {\n  if (!text || text.length <= maxLength) return text;\n  return text.substring(0, maxLength - suffix.length) + suffix;\n}\nfunction capitalizeFirst(text) {\n  if (!text) return text;\n  return text.charAt(0).toUpperCase() + text.slice(1);\n}\nfunction slugify(text) {\n  if (!text) return '';\n  return text.toString().toLowerCase().trim().replace(/\\s+/g, '-').replace(/[^\\w\\-]+/g, '').replace(/\\-\\-+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n}\n\n// URL utilities\nfunction getQueryParam(param) {\n  const urlParams = new URLSearchParams(window.location.search);\n  return urlParams.get(param);\n}\nfunction updateQueryParam(param, value) {\n  const url = new URL(window.location);\n  if (value) {\n    url.searchParams.set(param, value);\n  } else {\n    url.searchParams.delete(param);\n  }\n  window.history.replaceState({}, '', url);\n}\n\n// Storage utilities\nfunction setLocalStorage(key, value) {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n    return true;\n  } catch (error) {\n    console.error('LocalStorage error:', error);\n    return false;\n  }\n}\nfunction getLocalStorage(key, defaultValue = null) {\n  try {\n    const item = localStorage.getItem(key);\n    return item ? JSON.parse(item) : defaultValue;\n  } catch (error) {\n    console.error('LocalStorage error:', error);\n    return defaultValue;\n  }\n}\nfunction removeLocalStorage(key) {\n  try {\n    localStorage.removeItem(key);\n    return true;\n  } catch (error) {\n    console.error('LocalStorage error:', error);\n    return false;\n  }\n}\n\n// Validation utilities\nfunction validateEmail(email) {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n}\nfunction validatePhone(phone) {\n  const phoneRegex = /^[\\+]?[1-9][\\d]{0,15}$/;\n  return phoneRegex.test(phone.replace(/[\\s\\-\\(\\)]/g, ''));\n}\nfunction validateURL(url) {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n// Performance utilities\nfunction debounce(func, wait, immediate = false) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      timeout = null;\n      if (!immediate) func.apply(this, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(this, args);\n  };\n}\nfunction throttle(func, limit) {\n  let inThrottle;\n  return function executedFunction(...args) {\n    if (!inThrottle) {\n      func.apply(this, args);\n      inThrottle = true;\n      setTimeout(() => inThrottle = false, limit);\n    }\n  };\n}\n\n// Export functions to global scope\nif (typeof window !== 'undefined') {\n  window.showToast = showToast;\n  window.formatCurrency = formatCurrency;\n  window.formatNumber = formatNumber;\n  window.formatPercentage = formatPercentage;\n  window.formatDate = formatDate;\n  window.formatTimeAgo = formatTimeAgo;\n  window.showModal = showModal;\n  window.showConfirm = showConfirm;\n  window.truncateText = truncateText;\n  window.capitalizeFirst = capitalizeFirst;\n  window.slugify = slugify;\n  window.getQueryParam = getQueryParam;\n  window.updateQueryParam = updateQueryParam;\n  window.setLocalStorage = setLocalStorage;\n  window.getLocalStorage = getLocalStorage;\n  window.removeLocalStorage = removeLocalStorage;\n  window.validateEmail = validateEmail;\n  window.validatePhone = validatePhone;\n  window.validateURL = validateURL;\n  window.debounce = debounce;\n  window.throttle = throttle;\n}\n\n// Export for module systems\nif ( true && module.exports) {\n  module.exports = {\n    showToast,\n    formatCurrency,\n    formatNumber,\n    formatPercentage,\n    formatDate,\n    formatTimeAgo,\n    showModal,\n    showConfirm,\n    truncateText,\n    capitalizeFirst,\n    slugify,\n    getQueryParam,\n    updateQueryParam,\n    setLocalStorage,\n    getLocalStorage,\n    removeLocalStorage,\n    validateEmail,\n    validatePhone,\n    validateURL,\n    debounce,\n    throttle\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBU0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2tvbGFqQUktZnJvbnRlbmQvLi93ZWIvc3RhdGljL2pzL3V0aWxzLmpzPzM2MTgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVdGlsaXR5IEZ1bmN0aW9ucyBmb3IgS29sYWpBSVxuICogQnUgZG9zeWEgdXlndWxhbWEgZ2VuZWxpbmRlIGt1bGxhbsSxbGFuIHlhcmTEsW1jxLEgZm9ua3NpeW9ubGFyxLEgacOnZXJpclxuICovXG5cbi8vIFRvYXN0IG5vdGlmaWNhdGlvbiBzeXN0ZW1cbmZ1bmN0aW9uIHNob3dUb2FzdChtZXNzYWdlLCB0eXBlID0gJ2luZm8nLCBkdXJhdGlvbiA9IDUwMDApIHtcbiAgLy8gVG9hc3QgY29udGFpbmVyJ8SxIGtvbnRyb2wgZXQgdmV5YSBvbHXFn3R1clxuICBsZXQgdG9hc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9hc3QtY29udGFpbmVyJyk7XG4gIGlmICghdG9hc3RDb250YWluZXIpIHtcbiAgICB0b2FzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRvYXN0Q29udGFpbmVyLmNsYXNzTmFtZSA9ICd0b2FzdC1jb250YWluZXIgcG9zaXRpb24tZml4ZWQgdG9wLTAgZW5kLTAgcC0zJztcbiAgICB0b2FzdENvbnRhaW5lci5zdHlsZS56SW5kZXggPSAnOTk5OSc7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b2FzdENvbnRhaW5lcik7XG4gIH1cblxuICAvLyBUb2FzdCBlbGVtZW50IG9sdcWfdHVyXG4gIGNvbnN0IHRvYXN0SWQgPSAndG9hc3QtJyArIERhdGUubm93KCk7XG4gIGNvbnN0IHRvYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRvYXN0LmlkID0gdG9hc3RJZDtcbiAgdG9hc3QuY2xhc3NOYW1lID0gYHRvYXN0IGFsaWduLWl0ZW1zLWNlbnRlciB0ZXh0LXdoaXRlIGJnLSR7Z2V0VG9hc3RDb2xvcih0eXBlKX0gYm9yZGVyLTBgO1xuICB0b2FzdC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYWxlcnQnKTtcbiAgdG9hc3Quc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gIHRvYXN0LnNldEF0dHJpYnV0ZSgnYXJpYS1hdG9taWMnLCAndHJ1ZScpO1xuXG4gIC8vIENyZWF0ZSBzYWZlIERPTSBzdHJ1Y3R1cmUgdG8gcHJldmVudCBYU1NcbiAgY29uc3QgdG9hc3RDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRvYXN0Q29udGVudC5jbGFzc05hbWUgPSAnZC1mbGV4JztcbiAgXG4gIGNvbnN0IHRvYXN0Qm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0b2FzdEJvZHkuY2xhc3NOYW1lID0gJ3RvYXN0LWJvZHknO1xuICBcbiAgLy8gU2FmZWx5IGFkZCBpY29uICh0aGlzIGNvbWVzIGZyb20gb3VyIGZ1bmN0aW9uLCBub3QgdXNlciBpbnB1dClcbiAgY29uc3QgaWNvblNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIGljb25TcGFuLmlubmVySFRNTCA9IGdldFRvYXN0SWNvbih0eXBlKTtcbiAgdG9hc3RCb2R5LmFwcGVuZENoaWxkKGljb25TcGFuKTtcbiAgXG4gIC8vIFNhZmVseSBhZGQgbWVzc2FnZSAocHJldmVudCBYU1MgYnkgdXNpbmcgdGV4dENvbnRlbnQpXG4gIGNvbnN0IG1lc3NhZ2VTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBtZXNzYWdlU3Bhbi50ZXh0Q29udGVudCA9ICcgJyArIG1lc3NhZ2U7XG4gIHRvYXN0Qm9keS5hcHBlbmRDaGlsZChtZXNzYWdlU3Bhbik7XG4gIFxuICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBjbG9zZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gIGNsb3NlQnV0dG9uLmNsYXNzTmFtZSA9ICdidG4tY2xvc2UgYnRuLWNsb3NlLXdoaXRlIG1lLTIgbS1hdXRvJztcbiAgY2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWJzLWRpc21pc3MnLCAndG9hc3QnKTtcbiAgY2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0Nsb3NlJyk7XG4gIFxuICB0b2FzdENvbnRlbnQuYXBwZW5kQ2hpbGQodG9hc3RCb2R5KTtcbiAgdG9hc3RDb250ZW50LmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTtcbiAgdG9hc3QuYXBwZW5kQ2hpbGQodG9hc3RDb250ZW50KTtcblxuICB0b2FzdENvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2FzdCk7XG5cbiAgLy8gQm9vdHN0cmFwIHRvYXN0IGluaXRpYWxpemUgZXRcbiAgY29uc3QgYnNUb2FzdCA9IG5ldyBib290c3RyYXAuVG9hc3QodG9hc3QsIHtcbiAgICBhdXRvaGlkZTogdHJ1ZSxcbiAgICBkZWxheTogZHVyYXRpb25cbiAgfSk7XG5cbiAgLy8gVG9hc3QndSBnw7ZzdGVyXG4gIGJzVG9hc3Quc2hvdygpO1xuXG4gIC8vIFRvYXN0IGthcGFuZMSxxJ/EsW5kYSBET00nZGFuIGthbGTEsXJcbiAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcignaGlkZGVuLmJzLnRvYXN0JywgKCkgPT4ge1xuICAgIHRvYXN0LnJlbW92ZSgpO1xuICB9KTtcblxuICByZXR1cm4gdG9hc3Q7XG59XG5cbi8vIFRvYXN0IHJlbmsgeWFyZMSxbWPEsSBmb25rc2l5b251XG5mdW5jdGlvbiBnZXRUb2FzdENvbG9yKHR5cGUpIHtcbiAgY29uc3QgY29sb3JzID0ge1xuICAgICdzdWNjZXNzJzogJ3N1Y2Nlc3MnLFxuICAgICdlcnJvcic6ICdkYW5nZXInLFxuICAgICd3YXJuaW5nJzogJ3dhcm5pbmcnLFxuICAgICdpbmZvJzogJ2luZm8nLFxuICAgICdwcmltYXJ5JzogJ3ByaW1hcnknXG4gIH07XG4gIHJldHVybiBjb2xvcnNbdHlwZV0gfHwgJ2luZm8nO1xufVxuXG4vLyBUb2FzdCBpY29uIHlhcmTEsW1jxLEgZm9ua3NpeW9udVxuZnVuY3Rpb24gZ2V0VG9hc3RJY29uKHR5cGUpIHtcbiAgY29uc3QgaWNvbnMgPSB7XG4gICAgJ3N1Y2Nlc3MnOiAnPGkgY2xhc3M9XCJiaSBiaS1jaGVjay1jaXJjbGUtZmlsbCBtZS0yXCI+PC9pPicsXG4gICAgJ2Vycm9yJzogJzxpIGNsYXNzPVwiYmkgYmktZXhjbGFtYXRpb24tdHJpYW5nbGUtZmlsbCBtZS0yXCI+PC9pPicsXG4gICAgJ3dhcm5pbmcnOiAnPGkgY2xhc3M9XCJiaSBiaS1leGNsYW1hdGlvbi10cmlhbmdsZSBtZS0yXCI+PC9pPicsXG4gICAgJ2luZm8nOiAnPGkgY2xhc3M9XCJiaSBiaS1pbmZvLWNpcmNsZS1maWxsIG1lLTJcIj48L2k+JyxcbiAgICAncHJpbWFyeSc6ICc8aSBjbGFzcz1cImJpIGJpLWluZm8tY2lyY2xlIG1lLTJcIj48L2k+J1xuICB9O1xuICByZXR1cm4gaWNvbnNbdHlwZV0gfHwgaWNvbnNbJ2luZm8nXTtcbn1cblxuLy8gQ3VycmVuY3kgZm9ybWF0dGluZ1xuZnVuY3Rpb24gZm9ybWF0Q3VycmVuY3koYW1vdW50LCBjdXJyZW5jeSA9ICdUUlknLCBsb2NhbGUgPSAndHItVFInKSB7XG4gIGlmIChhbW91bnQgPT09IG51bGwgfHwgYW1vdW50ID09PSB1bmRlZmluZWQgfHwgaXNOYU4oYW1vdW50KSkge1xuICAgIHJldHVybiAnMCwwMCDigronO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG9jYWxlLCB7XG4gICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSxcbiAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMixcbiAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMlxuICAgIH0pO1xuICAgIHJldHVybiBmb3JtYXR0ZXIuZm9ybWF0KGFtb3VudCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gRmFsbGJhY2sgZm9ybWF0dGluZ1xuICAgIGNvbnN0IGZvcm1hdHRlZCA9IHBhcnNlRmxvYXQoYW1vdW50KS50b0ZpeGVkKDIpLnJlcGxhY2UoJy4nLCAnLCcpO1xuICAgIHJldHVybiBgJHtmb3JtYXR0ZWR9IOKCumA7XG4gIH1cbn1cblxuLy8gTnVtYmVyIGZvcm1hdHRpbmdcbmZ1bmN0aW9uIGZvcm1hdE51bWJlcihudW1iZXIsIGxvY2FsZSA9ICd0ci1UUicpIHtcbiAgaWYgKG51bWJlciA9PT0gbnVsbCB8fCBudW1iZXIgPT09IHVuZGVmaW5lZCB8fCBpc05hTihudW1iZXIpKSB7XG4gICAgcmV0dXJuICcwJztcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdChsb2NhbGUpLmZvcm1hdChudW1iZXIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBudW1iZXIudG9TdHJpbmcoKTtcbiAgfVxufVxuXG4vLyBQZXJjZW50YWdlIGZvcm1hdHRpbmdcbmZ1bmN0aW9uIGZvcm1hdFBlcmNlbnRhZ2UodmFsdWUsIGRlY2ltYWxzID0gMSkge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCBpc05hTih2YWx1ZSkpIHtcbiAgICByZXR1cm4gJzAlJztcbiAgfVxuICByZXR1cm4gYCR7cGFyc2VGbG9hdCh2YWx1ZSkudG9GaXhlZChkZWNpbWFscyl9JWA7XG59XG5cbi8vIERhdGUgZm9ybWF0dGluZyB1dGlsaXRpZXNcbmZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSwgZm9ybWF0ID0gJ3Nob3J0JywgbG9jYWxlID0gJ3RyLVRSJykge1xuICBpZiAoIWRhdGUpIHJldHVybiAnJztcbiAgXG4gIGNvbnN0IGQgPSBuZXcgRGF0ZShkYXRlKTtcbiAgaWYgKGlzTmFOKGQuZ2V0VGltZSgpKSkgcmV0dXJuICcnO1xuXG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgJ3Nob3J0JzogeyBkYXk6ICcyLWRpZ2l0JywgbW9udGg6ICcyLWRpZ2l0JywgeWVhcjogJ251bWVyaWMnIH0sXG4gICAgJ2xvbmcnOiB7IGRheTogJ251bWVyaWMnLCBtb250aDogJ2xvbmcnLCB5ZWFyOiAnbnVtZXJpYycgfSxcbiAgICAnZGF0ZXRpbWUnOiB7IFxuICAgICAgZGF5OiAnMi1kaWdpdCcsIFxuICAgICAgbW9udGg6ICcyLWRpZ2l0JywgXG4gICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgICBtaW51dGU6ICcyLWRpZ2l0J1xuICAgIH1cbiAgfTtcblxuICB0cnkge1xuICAgIHJldHVybiBkLnRvTG9jYWxlRGF0ZVN0cmluZyhsb2NhbGUsIG9wdGlvbnNbZm9ybWF0XSB8fCBvcHRpb25zLnNob3J0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZC50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgfVxufVxuXG4vLyBUaW1lIGFnbyBmb3JtYXR0aW5nXG5mdW5jdGlvbiBmb3JtYXRUaW1lQWdvKGRhdGUsIGxvY2FsZSA9ICd0cicpIHtcbiAgaWYgKCFkYXRlKSByZXR1cm4gJyc7XG4gIFxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCBwYXN0ID0gbmV3IERhdGUoZGF0ZSk7XG4gIGNvbnN0IGRpZmZNcyA9IG5vdyAtIHBhc3Q7XG4gIGNvbnN0IGRpZmZTZWNzID0gTWF0aC5mbG9vcihkaWZmTXMgLyAxMDAwKTtcbiAgY29uc3QgZGlmZk1pbnMgPSBNYXRoLmZsb29yKGRpZmZTZWNzIC8gNjApO1xuICBjb25zdCBkaWZmSG91cnMgPSBNYXRoLmZsb29yKGRpZmZNaW5zIC8gNjApO1xuICBjb25zdCBkaWZmRGF5cyA9IE1hdGguZmxvb3IoZGlmZkhvdXJzIC8gMjQpO1xuXG4gIGNvbnN0IHRyYW5zbGF0aW9ucyA9IHtcbiAgICAndHInOiB7XG4gICAgICAnbm93JzogJ8WfaW1kaScsXG4gICAgICAnc2Vjb25kcyc6ICdzYW5peWUgw7ZuY2UnLFxuICAgICAgJ21pbnV0ZXMnOiAnZGFraWthIMO2bmNlJyxcbiAgICAgICdob3Vycyc6ICdzYWF0IMO2bmNlJyxcbiAgICAgICdkYXlzJzogJ2fDvG4gw7ZuY2UnLFxuICAgICAgJ3dlZWtzJzogJ2hhZnRhIMO2bmNlJyxcbiAgICAgICdtb250aHMnOiAnYXkgw7ZuY2UnLFxuICAgICAgJ3llYXJzJzogJ3nEsWwgw7ZuY2UnXG4gICAgfSxcbiAgICAnZW4nOiB7XG4gICAgICAnbm93JzogJ25vdycsXG4gICAgICAnc2Vjb25kcyc6ICdzZWNvbmRzIGFnbycsXG4gICAgICAnbWludXRlcyc6ICdtaW51dGVzIGFnbycsXG4gICAgICAnaG91cnMnOiAnaG91cnMgYWdvJyxcbiAgICAgICdkYXlzJzogJ2RheXMgYWdvJyxcbiAgICAgICd3ZWVrcyc6ICd3ZWVrcyBhZ28nLFxuICAgICAgJ21vbnRocyc6ICdtb250aHMgYWdvJyxcbiAgICAgICd5ZWFycyc6ICd5ZWFycyBhZ28nXG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHQgPSB0cmFuc2xhdGlvbnNbbG9jYWxlXSB8fCB0cmFuc2xhdGlvbnNbJ3RyJ107XG5cbiAgaWYgKGRpZmZTZWNzIDwgNjApIHJldHVybiB0Lm5vdztcbiAgaWYgKGRpZmZNaW5zIDwgNjApIHJldHVybiBgJHtkaWZmTWluc30gJHt0Lm1pbnV0ZXN9YDtcbiAgaWYgKGRpZmZIb3VycyA8IDI0KSByZXR1cm4gYCR7ZGlmZkhvdXJzfSAke3QuaG91cnN9YDtcbiAgaWYgKGRpZmZEYXlzIDwgNykgcmV0dXJuIGAke2RpZmZEYXlzfSAke3QuZGF5c31gO1xuICBpZiAoZGlmZkRheXMgPCAzMCkgcmV0dXJuIGAke01hdGguZmxvb3IoZGlmZkRheXMgLyA3KX0gJHt0LndlZWtzfWA7XG4gIGlmIChkaWZmRGF5cyA8IDM2NSkgcmV0dXJuIGAke01hdGguZmxvb3IoZGlmZkRheXMgLyAzMCl9ICR7dC5tb250aHN9YDtcbiAgcmV0dXJuIGAke01hdGguZmxvb3IoZGlmZkRheXMgLyAzNjUpfSAke3QueWVhcnN9YDtcbn1cblxuLy8gTW9kYWwgdXRpbGl0aWVzXG5mdW5jdGlvbiBzaG93TW9kYWwodGl0bGUsIGNvbnRlbnQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBtb2RhbElkID0gJ2R5bmFtaWMtbW9kYWwtJyArIERhdGUubm93KCk7XG4gIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG1vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbCBmYWRlJztcbiAgbW9kYWwuaWQgPSBtb2RhbElkO1xuICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG4gIG1vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXG4gIGNvbnN0IHNpemUgPSBvcHRpb25zLnNpemUgfHwgJyc7XG4gIGNvbnN0IHNpemVDbGFzcyA9IHNpemUgPyBgbW9kYWwtJHtzaXplfWAgOiAnJztcblxuICAvLyBDcmVhdGUgc2FmZSBtb2RhbCBzdHJ1Y3R1cmUgdG8gcHJldmVudCBYU1NcbiAgY29uc3QgbW9kYWxEaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbW9kYWxEaWFsb2cuY2xhc3NOYW1lID0gYG1vZGFsLWRpYWxvZyAke3NpemVDbGFzc31gO1xuICBcbiAgY29uc3QgbW9kYWxDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG1vZGFsQ29udGVudC5jbGFzc05hbWUgPSAnbW9kYWwtY29udGVudCc7XG4gIFxuICAvLyBNb2RhbCBoZWFkZXJcbiAgY29uc3QgbW9kYWxIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbW9kYWxIZWFkZXIuY2xhc3NOYW1lID0gJ21vZGFsLWhlYWRlcic7XG4gIFxuICBjb25zdCBtb2RhbFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDUnKTtcbiAgbW9kYWxUaXRsZS5jbGFzc05hbWUgPSAnbW9kYWwtdGl0bGUnO1xuICBtb2RhbFRpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7IC8vIFNhZmUgdGV4dCBjb250ZW50XG4gIFxuICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBjbG9zZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gIGNsb3NlQnV0dG9uLmNsYXNzTmFtZSA9ICdidG4tY2xvc2UnO1xuICBjbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYnMtZGlzbWlzcycsICdtb2RhbCcpO1xuICBjbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnQ2xvc2UnKTtcbiAgXG4gIG1vZGFsSGVhZGVyLmFwcGVuZENoaWxkKG1vZGFsVGl0bGUpO1xuICBtb2RhbEhlYWRlci5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7XG4gIFxuICAvLyBNb2RhbCBib2R5XG4gIGNvbnN0IG1vZGFsQm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBtb2RhbEJvZHkuY2xhc3NOYW1lID0gJ21vZGFsLWJvZHknO1xuICBcbiAgLy8gSWYgY29udGVudCBpcyBhIHN0cmluZywgdXNlIHRleHRDb250ZW50IGZvciBzYWZldHlcbiAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgIG1vZGFsQm9keS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgY29udGVudCBpcyBhIERPTSBlbGVtZW50LCBhcHBlbmQgaXQgc2FmZWx5XG4gICAgbW9kYWxCb2R5LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICB9XG4gIFxuICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQobW9kYWxIZWFkZXIpO1xuICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQobW9kYWxCb2R5KTtcbiAgXG4gIC8vIE1vZGFsIGZvb3RlciBpZiBwcm92aWRlZFxuICBpZiAob3B0aW9ucy5mb290ZXIpIHtcbiAgICBjb25zdCBtb2RhbEZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsRm9vdGVyLmNsYXNzTmFtZSA9ICdtb2RhbC1mb290ZXInO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5mb290ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICBtb2RhbEZvb3Rlci50ZXh0Q29udGVudCA9IG9wdGlvbnMuZm9vdGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RhbEZvb3Rlci5hcHBlbmRDaGlsZChvcHRpb25zLmZvb3Rlcik7XG4gICAgfVxuICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChtb2RhbEZvb3Rlcik7XG4gIH1cbiAgXG4gIG1vZGFsRGlhbG9nLmFwcGVuZENoaWxkKG1vZGFsQ29udGVudCk7XG4gIG1vZGFsLmFwcGVuZENoaWxkKG1vZGFsRGlhbG9nKTtcblxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcblxuICBjb25zdCBic01vZGFsID0gbmV3IGJvb3RzdHJhcC5Nb2RhbChtb2RhbCk7XG4gIGJzTW9kYWwuc2hvdygpO1xuXG4gIC8vIE1vZGFsIGthcGFuZMSxxJ/EsW5kYSBET00nZGFuIGthbGTEsXJcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignaGlkZGVuLmJzLm1vZGFsJywgKCkgPT4ge1xuICAgIG1vZGFsLnJlbW92ZSgpO1xuICB9KTtcblxuICByZXR1cm4gYnNNb2RhbDtcbn1cblxuLy8gQ29uZmlybWF0aW9uIGRpYWxvZ1xuZnVuY3Rpb24gc2hvd0NvbmZpcm0obWVzc2FnZSwgdGl0bGUgPSAnT25heScsIG9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBjb25maXJtVGV4dCA9IG9wdGlvbnMuY29uZmlybVRleHQgfHwgJ0V2ZXQnO1xuICAgIGNvbnN0IGNhbmNlbFRleHQgPSBvcHRpb25zLmNhbmNlbFRleHQgfHwgJ0hhecSxcic7XG4gICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZSB8fCAnd2FybmluZyc7XG5cbiAgICBjb25zdCBmb290ZXIgPSBgXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc2Vjb25kYXJ5XCIgZGF0YS1icy1kaXNtaXNzPVwibW9kYWxcIj4ke2NhbmNlbFRleHR9PC9idXR0b24+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tJHt0eXBlID09PSAnZGFuZ2VyJyA/ICdkYW5nZXInIDogJ3ByaW1hcnknfVwiIGlkPVwiY29uZmlybS1idG5cIj4ke2NvbmZpcm1UZXh0fTwvYnV0dG9uPlxuICAgIGA7XG5cbiAgICBjb25zdCBtb2RhbCA9IHNob3dNb2RhbCh0aXRsZSwgbWVzc2FnZSwgeyBmb290ZXIgfSk7XG5cbiAgICBjb25zdCBjb25maXJtQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm0tYnRuJyk7XG4gICAgY29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBNb2RhbCBrYXBhbmTEscSfxLFuZGEgZmFsc2UgZMO2bmTDvHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtb2RhbC5fZWxlbWVudC5pZCkuYWRkRXZlbnRMaXN0ZW5lcignaGlkZGVuLmJzLm1vZGFsJywgKCkgPT4ge1xuICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vLyBTdHJpbmcgdXRpbGl0aWVzXG5mdW5jdGlvbiB0cnVuY2F0ZVRleHQodGV4dCwgbWF4TGVuZ3RoID0gMTAwLCBzdWZmaXggPSAnLi4uJykge1xuICBpZiAoIXRleHQgfHwgdGV4dC5sZW5ndGggPD0gbWF4TGVuZ3RoKSByZXR1cm4gdGV4dDtcbiAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKDAsIG1heExlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpICsgc3VmZml4O1xufVxuXG5mdW5jdGlvbiBjYXBpdGFsaXplRmlyc3QodGV4dCkge1xuICBpZiAoIXRleHQpIHJldHVybiB0ZXh0O1xuICByZXR1cm4gdGV4dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRleHQuc2xpY2UoMSk7XG59XG5cbmZ1bmN0aW9uIHNsdWdpZnkodGV4dCkge1xuICBpZiAoIXRleHQpIHJldHVybiAnJztcbiAgcmV0dXJuIHRleHRcbiAgICAudG9TdHJpbmcoKVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLnRyaW0oKVxuICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAucmVwbGFjZSgvW15cXHdcXC1dKy9nLCAnJylcbiAgICAucmVwbGFjZSgvXFwtXFwtKy9nLCAnLScpXG4gICAgLnJlcGxhY2UoL14tKy8sICcnKVxuICAgIC5yZXBsYWNlKC8tKyQvLCAnJyk7XG59XG5cbi8vIFVSTCB1dGlsaXRpZXNcbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW0ocGFyYW0pIHtcbiAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgcmV0dXJuIHVybFBhcmFtcy5nZXQocGFyYW0pO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVRdWVyeVBhcmFtKHBhcmFtLCB2YWx1ZSkge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbik7XG4gIGlmICh2YWx1ZSkge1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KHBhcmFtLCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUocGFyYW0pO1xuICB9XG4gIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgJycsIHVybCk7XG59XG5cbi8vIFN0b3JhZ2UgdXRpbGl0aWVzXG5mdW5jdGlvbiBzZXRMb2NhbFN0b3JhZ2Uoa2V5LCB2YWx1ZSkge1xuICB0cnkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdMb2NhbFN0b3JhZ2UgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2Uoa2V5LCBkZWZhdWx0VmFsdWUgPSBudWxsKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgaXRlbSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgcmV0dXJuIGl0ZW0gPyBKU09OLnBhcnNlKGl0ZW0pIDogZGVmYXVsdFZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0xvY2FsU3RvcmFnZSBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVMb2NhbFN0b3JhZ2Uoa2V5KSB7XG4gIHRyeSB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdMb2NhbFN0b3JhZ2UgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBWYWxpZGF0aW9uIHV0aWxpdGllc1xuZnVuY3Rpb24gdmFsaWRhdGVFbWFpbChlbWFpbCkge1xuICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwpO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVBob25lKHBob25lKSB7XG4gIGNvbnN0IHBob25lUmVnZXggPSAvXltcXCtdP1sxLTldW1xcZF17MCwxNX0kLztcbiAgcmV0dXJuIHBob25lUmVnZXgudGVzdChwaG9uZS5yZXBsYWNlKC9bXFxzXFwtXFwoXFwpXS9nLCAnJykpO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVVSTCh1cmwpIHtcbiAgdHJ5IHtcbiAgICBuZXcgVVJMKHVybCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBQZXJmb3JtYW5jZSB1dGlsaXRpZXNcbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSA9IGZhbHNlKSB7XG4gIGxldCB0aW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24gZXhlY3V0ZWRGdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgY29uc3QgbGF0ZXIgPSAoKSA9PiB7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIGlmICghaW1tZWRpYXRlKSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gICAgY29uc3QgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgIGlmIChjYWxsTm93KSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCBsaW1pdCkge1xuICBsZXQgaW5UaHJvdHRsZTtcbiAgcmV0dXJuIGZ1bmN0aW9uIGV4ZWN1dGVkRnVuY3Rpb24oLi4uYXJncykge1xuICAgIGlmICghaW5UaHJvdHRsZSkge1xuICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIGluVGhyb3R0bGUgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBpblRocm90dGxlID0gZmFsc2UsIGxpbWl0KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIEV4cG9ydCBmdW5jdGlvbnMgdG8gZ2xvYmFsIHNjb3BlXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgd2luZG93LnNob3dUb2FzdCA9IHNob3dUb2FzdDtcbiAgd2luZG93LmZvcm1hdEN1cnJlbmN5ID0gZm9ybWF0Q3VycmVuY3k7XG4gIHdpbmRvdy5mb3JtYXROdW1iZXIgPSBmb3JtYXROdW1iZXI7XG4gIHdpbmRvdy5mb3JtYXRQZXJjZW50YWdlID0gZm9ybWF0UGVyY2VudGFnZTtcbiAgd2luZG93LmZvcm1hdERhdGUgPSBmb3JtYXREYXRlO1xuICB3aW5kb3cuZm9ybWF0VGltZUFnbyA9IGZvcm1hdFRpbWVBZ287XG4gIHdpbmRvdy5zaG93TW9kYWwgPSBzaG93TW9kYWw7XG4gIHdpbmRvdy5zaG93Q29uZmlybSA9IHNob3dDb25maXJtO1xuICB3aW5kb3cudHJ1bmNhdGVUZXh0ID0gdHJ1bmNhdGVUZXh0O1xuICB3aW5kb3cuY2FwaXRhbGl6ZUZpcnN0ID0gY2FwaXRhbGl6ZUZpcnN0O1xuICB3aW5kb3cuc2x1Z2lmeSA9IHNsdWdpZnk7XG4gIHdpbmRvdy5nZXRRdWVyeVBhcmFtID0gZ2V0UXVlcnlQYXJhbTtcbiAgd2luZG93LnVwZGF0ZVF1ZXJ5UGFyYW0gPSB1cGRhdGVRdWVyeVBhcmFtO1xuICB3aW5kb3cuc2V0TG9jYWxTdG9yYWdlID0gc2V0TG9jYWxTdG9yYWdlO1xuICB3aW5kb3cuZ2V0TG9jYWxTdG9yYWdlID0gZ2V0TG9jYWxTdG9yYWdlO1xuICB3aW5kb3cucmVtb3ZlTG9jYWxTdG9yYWdlID0gcmVtb3ZlTG9jYWxTdG9yYWdlO1xuICB3aW5kb3cudmFsaWRhdGVFbWFpbCA9IHZhbGlkYXRlRW1haWw7XG4gIHdpbmRvdy52YWxpZGF0ZVBob25lID0gdmFsaWRhdGVQaG9uZTtcbiAgd2luZG93LnZhbGlkYXRlVVJMID0gdmFsaWRhdGVVUkw7XG4gIHdpbmRvdy5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICB3aW5kb3cudGhyb3R0bGUgPSB0aHJvdHRsZTtcbn1cblxuLy8gRXhwb3J0IGZvciBtb2R1bGUgc3lzdGVtc1xuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNob3dUb2FzdCxcbiAgICBmb3JtYXRDdXJyZW5jeSxcbiAgICBmb3JtYXROdW1iZXIsXG4gICAgZm9ybWF0UGVyY2VudGFnZSxcbiAgICBmb3JtYXREYXRlLFxuICAgIGZvcm1hdFRpbWVBZ28sXG4gICAgc2hvd01vZGFsLFxuICAgIHNob3dDb25maXJtLFxuICAgIHRydW5jYXRlVGV4dCxcbiAgICBjYXBpdGFsaXplRmlyc3QsXG4gICAgc2x1Z2lmeSxcbiAgICBnZXRRdWVyeVBhcmFtLFxuICAgIHVwZGF0ZVF1ZXJ5UGFyYW0sXG4gICAgc2V0TG9jYWxTdG9yYWdlLFxuICAgIGdldExvY2FsU3RvcmFnZSxcbiAgICByZW1vdmVMb2NhbFN0b3JhZ2UsXG4gICAgdmFsaWRhdGVFbWFpbCxcbiAgICB2YWxpZGF0ZVBob25lLFxuICAgIHZhbGlkYXRlVVJMLFxuICAgIGRlYm91bmNlLFxuICAgIHRocm90dGxlXG4gIH07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///468\n\n}");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ var __webpack_exports__ = (__webpack_exec__(468));
/******/ }
]);